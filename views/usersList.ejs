<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <title>Lista de Usu√°rios</title>
  <link rel="stylesheet" href="/css/usersList.css">
</head>
<body>
  <%- include('partials/header') %>

  <main class="users-container">
    <h1>Gerenciar Usu√°rios</h1>

    <% if (typeof userRole !== 'undefined' && userRole === 'dono') { %>
      <a href="/users/new" class="btn-primary add-user-btn">
        ‚ûï Adicionar Novo Usu√°rio
      </a>
    <% } %>

    <ul class="users-list">
      <% usuarios.forEach(function(user) { %>
        <li class="user-card">
          <div class="user-info">
            <strong><%= user.nome %></strong>
            <span class="user-cargo"><%= user.cargo || '‚Äî' %></span>
          </div>

          <% if (typeof userRole !== 'undefined' && userRole === 'dono') { %>
            <div class="user-actions">
              <a href="/users/<%= user._id %>/edit">
                <button class="btn-secondary">‚úèÔ∏è Editar</button>
              </a>

              <form action="/users/<%= user._id %>/delete" method="POST">
                <% if (typeof csrfToken !== 'undefined' && csrfToken) { %>
                  <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
                <% } %>
                <button type="submit" class="btn-danger">üóëÔ∏è Excluir</button>
              </form>
            </div>
          <% } %>
        </li>
      <% }) %>
    </ul>
  </main>

  <%- include('partials/footer') %>
</body>
</html>
